{"version":3,"file":"js/440.894f1971.js","mappings":"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","sources":["webpack://frontend-ebox-platform/./src/api/VisitaService.js","webpack://frontend-ebox-platform/./src/components/visitas/VisitaTable.vue","webpack://frontend-ebox-platform/./src/components/visitas/VisitaTable.vue?d220","webpack://frontend-ebox-platform/./src/components/visitas/CreateVisitaModal.vue","webpack://frontend-ebox-platform/./src/components/visitas/CreateVisitaModal.vue?5bb9","webpack://frontend-ebox-platform/./src/views/VisitasView.vue","webpack://frontend-ebox-platform/./src/views/VisitasView.vue?8f4b"],"sourcesContent":["import axiosInstance from '@/config/http.config';\r\n// import axios from 'axios';\r\n\r\nconst baseURL = process.env.VUE_APP_BASE_URL;\r\n\r\n\r\nexport function listVisitaApi() {\r\n  \r\n    return axiosInstance.get(`${baseURL}/visits/list`)\r\n}\r\n\r\nexport function createVisitaApi(payload) {\r\n  \r\n    return axiosInstance.post(`${baseURL}/visits/create`, payload)\r\n}","<template>\r\n    <v-card>\r\n      <v-card-text>\r\n        <div class=\"table-container\">\r\n          <v-data-table\r\n            :headers=\"headers\"\r\n            :items=\"doctors\"\r\n            class=\"elevation-1\"\r\n            :search=\"search\"\r\n            :loading=\"loading\"\r\n            :sort-by=\"[{ key: 'paciente.nombres', order: 'asc' }]\"\r\n            loading-text=\"Cargando... Espere por favor\"\r\n          >\r\n            <template v-slot:top>\r\n              <v-divider class=\"mx-4\" inset vertical></v-divider>\r\n              <v-text-field\r\n                v-model=\"search\"\r\n                append-icon=\"mdi-magnify\"\r\n                label=\"Buscar\"\r\n                single-line\r\n                hide-details\r\n                @input=\"handleSearch\"\r\n              ></v-text-field>\r\n            </template>\r\n          </v-data-table>\r\n        </div>\r\n      </v-card-text>\r\n    </v-card>\r\n  </template>\r\n  \r\n  <script setup>\r\n  import { ref, onMounted } from 'vue';\r\n  import { listVisitaApi } from '@/api/VisitaService';\r\n  \r\n  // Datos reactivos\r\n  const search = ref('');\r\n  const loading = ref(false);\r\n  const headers = ref([\r\n    { title: 'Codigo de visita', align: 'start', key: 'id_visita' },\r\n    { title: 'fecha de visita', key: 'fecha_visita' },\r\n    { title: 'hora de visita', key: 'hora_visita' },\r\n    { title: 'Número de habitación', key: 'numero_habitacion' },\r\n    { title: 'Cama asiganada', key: 'cama_asignada' },\r\n    { title: 'Fecha de ingreso', key: 'fecha_ingreso' },\r\n    { title: 'Nombre del doctor', key: 'doctor_names' },\r\n    { title: 'Apellido del doctor', key: 'doctor_last_names' },\r\n   \r\n  ]);\r\n  const doctors = ref([]);\r\n  \r\n  const fetchInternments = async () => {\r\n    loading.value = true;\r\n    try {\r\n      const response = await listVisitaApi();\r\n      doctors.value = response.data.data.map(doctor => ({\r\n        id_visita: doctor.id_visita,\r\n        fecha_visita: new Date(doctor.fecha_visita).toLocaleDateString(),\r\n        hora_visita: doctor.hora_visita,\r\n        numero_habitacion: doctor.numero_habitacion,\r\n        cama_asignada: doctor.cama_asignada,\r\n        fecha_ingreso :new Date(doctor.fecha_ingreso).toLocaleDateString(),\r\n        doctor_names : doctor.doctor_names,\r\n        doctor_last_names : doctor.doctor_last_names\r\n\r\n      }));\r\n    } catch (error) {\r\n      console.error('Error fetching internments:', error);\r\n    } finally {\r\n      loading.value = false;\r\n    }\r\n  };\r\n  \r\n  const handleSearch = () => {\r\n    loading.value = true;\r\n    setTimeout(async () => {\r\n      await fetchInternments();\r\n      loading.value = false;\r\n    }, 500);\r\n  };\r\n  \r\n  // Ejecutar fetchInternments al montar el componente\r\n  onMounted(() => {\r\n    fetchInternments();\r\n  });\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .table-container {\r\n    max-height: 700px;\r\n    overflow-y: auto;\r\n  }\r\n  </style>\r\n  ","import script from \"./VisitaTable.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./VisitaTable.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./VisitaTable.vue?vue&type=style&index=0&id=39faf51c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-39faf51c\"]])\n\nexport default __exports__","<template>\r\n  <v-card>\r\n    <v-card-title>\r\n      <span class=\"text-h5\">Crear nuevo Medico</span>\r\n    </v-card-title>\r\n    <v-card-text>\r\n      <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\r\n        <!-- Campo para el ID del paciente -->\r\n        <v-text-field\r\n          v-model=\"internmentId\"\r\n          label=\"Codigo de internamiento\"\r\n          required\r\n        ></v-text-field>\r\n\r\n        <!-- Campo para el Número de Habitación -->\r\n        <v-text-field\r\n          v-model=\"doctorId\"\r\n          label=\"Codigo del Doctor\"\r\n          type=\"number\"\r\n          required\r\n        ></v-text-field>\r\n\r\n        <!-- Campo para la Cama Asignada -->\r\n        <v-text-field\r\n          v-model=\"visitDate\"\r\n          label=\"Fecha de visita\"\r\n          required\r\n          type=\"date\"\r\n        ></v-text-field>\r\n\r\n        <!-- Campo para la Fecha de Admisión -->\r\n        <v-text-field\r\n          v-model=\"visitTime\"\r\n          label=\"Hora de visita\"\r\n        type=\"time\"\r\n          required\r\n        ></v-text-field>\r\n      </v-form>\r\n    </v-card-text>\r\n    <v-card-actions>\r\n      <v-btn color=\"blue\" text @click=\"$emit('close')\">Cancelar</v-btn>\r\n      <v-btn color=\"blue\" text @click=\"submitInternamiento\">Guardar</v-btn>\r\n    </v-card-actions>\r\n\r\n    <!-- Diálogo de Carga -->\r\n    <v-dialog v-model=\"dialogLoader\" :scrim=\"false\" persistent width=\"auto\">\r\n      <v-card color=\"blue\">\r\n        <v-card-text>\r\n          Procesando...\r\n          <v-progress-linear indeterminate color=\"white\" class=\"mb-0\"></v-progress-linear>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-dialog>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue';\r\nimport { createVisitaApi } from '@/api/VisitaService';\r\nimport Swal from 'sweetalert2';\r\n\r\nexport default {\r\n  setup(_, { emit }) {\r\n    const internmentId = ref();\r\n    const doctorId = ref();\r\n    const visitDate = ref('');\r\n    const visitTime = ref('');\r\n    const dialogLoader = ref(false); // Estado del diálogo de carga\r\n\r\n    const submitInternamiento = async () => {\r\n      if (internmentId.value && doctorId.value && visitDate.value && visitTime.value) {\r\n        const payload = {\r\n          internmentId: Number(internmentId.value),\r\n          doctorId:Number(doctorId.value),\r\n          visitDate: visitDate.value,\r\n          visitTime:visitTime.value\r\n        };\r\n\r\n        dialogLoader.value = true;\r\n\r\n        try {\r\n          const response = await createVisitaApi(payload);\r\n\r\n          emit('close'); // Cerrar el modal antes de mostrar el mensaje\r\n          dialogLoader.value = false; // Ocultar el diálogo de carga\r\n\r\n          // Mostrar mensaje de éxito con SweetAlert\r\n          Swal.fire({\r\n            icon: 'success',\r\n            title: 'Visita Creada',\r\n            text: response.data.message,\r\n            confirmButtonText: 'OK',\r\n          });\r\n\r\n        } catch (error) {\r\n          emit('close'); // Cerrar el modal antes de mostrar el mensaje\r\n          dialogLoader.value = false; // Ocultar el diálogo de carga\r\n\r\n          // Mostrar mensaje de error con SweetAlert\r\n          Swal.fire({\r\n            icon: 'error',\r\n            title: 'Error',\r\n            text: error.response?.data?.message || 'Hubo un error al crear el internamiento',\r\n            confirmButtonText: 'OK',\r\n          });\r\n        }\r\n      } else {\r\n        console.log('Formulario incompleto');\r\n      }\r\n    };\r\n\r\n    return {\r\n      internmentId,\r\n      doctorId,\r\n      visitDate,\r\n      visitTime,\r\n      dialogLoader,\r\n      submitInternamiento,\r\n    };\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./CreateVisitaModal.vue?vue&type=template&id=132da1ee\"\nimport script from \"./CreateVisitaModal.vue?vue&type=script&lang=js\"\nexport * from \"./CreateVisitaModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <div class=\"pt-0 mt-0 pb-10 ml-0 mr-0 min-w-max[100%]\">\r\n      <v-card-title class=\"d-flex justify-between\">\r\n        <h1 class=\"font-bold lg:text-2xl text-xl text-gray-400\">VISITAS MEDICAS</h1>\r\n  \r\n        <!-- Botón para abrir el modal de crear internamiento -->\r\n        <v-btn color=\"primary\" class=\"white--text\" @click=\"openCreateModal\" style=\"margin-left: auto;\">\r\n          Crear +\r\n        </v-btn>\r\n      </v-card-title>\r\n  \r\n      <v-row>\r\n        <v-col cols=\"12\">\r\n          <!-- Tabla de internamientos -->\r\n          <VisitaTable />\r\n        </v-col>\r\n      </v-row>\r\n  \r\n      <!-- Modal para crear el internamiento -->\r\n      <v-dialog v-model=\"showCreateModal\" max-width=\"500px\">\r\n        <CreateVisitaModal @close=\"showCreateModal = false\" />\r\n      </v-dialog>\r\n    </div>\r\n  </template>\r\n  \r\n  <script setup>\r\n  import { ref } from 'vue';\r\n  import VisitaTable from '@/components/visitas/VisitaTable.vue';\r\n  import CreateVisitaModal from '@/components/visitas/CreateVisitaModal.vue';\r\n  \r\n  // Estado del modal para crear internamiento\r\n  const showCreateModal = ref(false);\r\n  \r\n  // Función para abrir el modal\r\n  const openCreateModal = () => {\r\n    showCreateModal.value = true;\r\n  };\r\n  </script>\r\n  ","import script from \"./VisitasView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./VisitasView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["baseURL","process","listVisitaApi","axiosInstance","get","createVisitaApi","payload","post","search","ref","loading","headers","title","align","key","doctors","fetchInternments","async","value","response","data","map","doctor","id_visita","fecha_visita","Date","toLocaleDateString","hora_visita","numero_habitacion","cama_asignada","fecha_ingreso","doctor_names","doctor_last_names","error","console","handleSearch","setTimeout","onMounted","__exports__","_createElementVNode","class","_createBlock","_component_v_card","default","_withCtx","_createVNode","_component_v_card_title","_hoisted_1","_","_component_v_card_text","_component_v_form","modelValue","_ctx","valid","_cache","$event","_component_v_text_field","$setup","internmentId","label","required","doctorId","type","visitDate","visitTime","_component_v_card_actions","_component_v_btn","color","text","onClick","$emit","_createTextVNode","submitInternamiento","_component_v_dialog","dialogLoader","scrim","persistent","width","_component_v_progress_linear","indeterminate","setup","emit","Number","Swal","icon","message","confirmButtonText","log","render","showCreateModal","openCreateModal"],"sourceRoot":""}