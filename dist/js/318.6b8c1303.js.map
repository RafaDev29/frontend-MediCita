{"version":3,"file":"js/318.6b8c1303.js","mappings":"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","sources":["webpack://frontend-ebox-platform/./src/api/AltaService.js","webpack://frontend-ebox-platform/./src/components/altas/AltasTable.vue","webpack://frontend-ebox-platform/./src/components/altas/AltasTable.vue?f0e2","webpack://frontend-ebox-platform/./src/components/altas/CreateAltasModal.vue","webpack://frontend-ebox-platform/./src/components/altas/CreateAltasModal.vue?cb1c","webpack://frontend-ebox-platform/./src/views/AltasView.vue","webpack://frontend-ebox-platform/./src/views/AltasView.vue?ad37"],"sourcesContent":["import axiosInstance from '@/config/http.config';\r\n// import axios from 'axios';\r\n\r\nconst baseURL = process.env.VUE_APP_BASE_URL;\r\n\r\n\r\nexport function listAltasApi() {\r\n  \r\n    return axiosInstance.get(`${baseURL}/discharges/list`)\r\n}\r\n\r\nexport function createAltasApi(payload) {\r\n  \r\n    return axiosInstance.post(`${baseURL}/discharges/create`, payload)\r\n}","<template>\r\n    <v-card>\r\n      <v-card-text>\r\n        <div class=\"table-container\">\r\n          <v-data-table\r\n            :headers=\"headers\"\r\n            :items=\"altas\"\r\n            class=\"elevation-1\"\r\n            :search=\"search\"\r\n            :loading=\"loading\"\r\n            :sort-by=\"[{ key: 'paciente.nombres', order: 'asc' }]\"\r\n            loading-text=\"Cargando... Espere por favor\"\r\n          >\r\n            <template v-slot:top>\r\n              <v-divider class=\"mx-4\" inset vertical></v-divider>\r\n              <v-text-field\r\n                v-model=\"search\"\r\n                append-icon=\"mdi-magnify\"\r\n                label=\"Buscar\"\r\n                single-line\r\n                hide-details\r\n                @input=\"handleSearch\"\r\n              ></v-text-field>\r\n            </template>\r\n          </v-data-table>\r\n        </div>\r\n      </v-card-text>\r\n    </v-card>\r\n  </template>\r\n  \r\n  <script setup>\r\n  import { ref, onMounted } from 'vue';\r\n  import { listAltasApi } from '@/api/AltaService';\r\n  \r\n  // Datos reactivos\r\n  const search = ref('');\r\n  const loading = ref(false);\r\n  const headers = ref([\r\n    { title: 'Codico', align: 'start', key: 'id_alta' },\r\n    { title: 'Fecha de alta', key: 'fecha_alta' },\r\n    { title: 'Hora de alta', key: 'hora_alta' },\r\n    { title: 'Número de habitación', key: 'numero_habitacion' },\r\n    { title: 'Cama asignada', key: 'cama_asignada' },\r\n    { title: 'Fecha de ingreso', key: 'fecha_ingreso' },\r\n    { title: 'Nombre del Doctor', key: 'doctor_names' },\r\n    { title: 'Apellido del Doctor', key: 'doctor_last_names' },\r\n  ]);\r\n  const altas = ref([]);\r\n  \r\n  // Funciones\r\n  const fetchInternments = async () => {\r\n    loading.value = true;\r\n    try { \r\n      const response = await listAltasApi();\r\n      altas.value = response.data.data.map(alta => ({\r\n        id_alta: alta.id_alta,\r\n        fecha_alta:new Date(alta.fecha_alta).toLocaleDateString(),\r\n        hora_alta: alta.hora_alta,\r\n        numero_habitacion: alta.numero_habitacion,\r\n        cama_asignada: alta.cama_asignada,\r\n        fecha_ingreso: new Date(alta.fecha_ingreso).toLocaleDateString(),\r\n        doctor_names: alta.doctor_names,\r\n        doctor_last_names: alta.doctor_last_names,\r\n      }));\r\n    } catch (error) {\r\n      console.error('Error fetching internments:', error);\r\n    } finally {\r\n      loading.value = false;\r\n    }\r\n  };\r\n  \r\n  const handleSearch = () => {\r\n    loading.value = true;\r\n    setTimeout(async () => {\r\n      await fetchInternments();\r\n      loading.value = false;\r\n    }, 500);\r\n  };\r\n  \r\n  // Ejecutar fetchInternments al montar el componente\r\n  onMounted(() => {\r\n    fetchInternments();\r\n  });\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .table-container {\r\n    max-height: 700px;\r\n    overflow-y: auto;\r\n  }\r\n  </style>\r\n  ","import script from \"./AltasTable.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AltasTable.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AltasTable.vue?vue&type=style&index=0&id=d160b7ba&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d160b7ba\"]])\n\nexport default __exports__","<template>\r\n  <v-card>\r\n    <v-card-title>\r\n      <span class=\"text-h5\">Crear nueva Alta medica</span>\r\n    </v-card-title>\r\n    <v-card-text>\r\n      <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\r\n        <!-- Campo para el ID del paciente -->\r\n        <v-text-field\r\n          v-model=\"internmentId\"\r\n          label=\"Codigo de internado\"\r\n          type=\"number\"\r\n          required\r\n        ></v-text-field>\r\n\r\n        <!-- Campo para el Número de Habitación -->\r\n        <v-text-field\r\n          v-model=\"dischargeDate\"\r\n          label=\"Fecha de alta\"\r\n          type=\"date\"\r\n          required\r\n        ></v-text-field>\r\n\r\n        <!-- Campo para la Cama Asignada -->\r\n        <v-text-field\r\n          v-model=\"dischargeTime\"\r\n          label=\"Hora de alta\"\r\n          type=\"time\"\r\n          required\r\n        ></v-text-field>\r\n\r\n        <!-- Campo para la Fecha de Admisión -->\r\n        <v-text-field\r\n          v-model=\"authorizingDoctorId\"\r\n          label=\"Codigo de doctor autorizado\"\r\n        type=\"number\"\r\n          required\r\n        ></v-text-field>\r\n      </v-form>\r\n    </v-card-text>\r\n    <v-card-actions>\r\n      <v-btn color=\"blue\" text @click=\"$emit('close')\">Cancelar</v-btn>\r\n      <v-btn color=\"blue\" text @click=\"submitInternamiento\">Guardar</v-btn>\r\n    </v-card-actions>\r\n\r\n    <!-- Diálogo de Carga -->\r\n    <v-dialog v-model=\"dialogLoader\" :scrim=\"false\" persistent width=\"auto\">\r\n      <v-card color=\"blue\">\r\n        <v-card-text>\r\n          Procesando...\r\n          <v-progress-linear indeterminate color=\"white\" class=\"mb-0\"></v-progress-linear>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-dialog>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue';\r\nimport { createAltasApi } from '@/api/AltaService';\r\nimport Swal from 'sweetalert2';\r\n\r\nexport default {\r\n  setup(_, { emit }) {\r\n    const internmentId = ref('');\r\n    const dischargeDate = ref('');\r\n    const dischargeTime = ref('');\r\n    const authorizingDoctorId = ref('');\r\n    const dialogLoader = ref(false); // Estado del diálogo de carga\r\n\r\n    const submitInternamiento = async () => {\r\n      if (internmentId.value && dischargeDate.value && dischargeTime.value && authorizingDoctorId.value) {\r\n        const payload = {\r\n          internmentId: Number(internmentId.value),\r\n          dischargeDate:dischargeDate.value,\r\n          dischargeTime: dischargeTime.value,\r\n          authorizingDoctorId: Number(authorizingDoctorId.value)\r\n        };\r\n\r\n        // Mostrar diálogo de carga\r\n        dialogLoader.value = true;\r\n\r\n        try {\r\n          const response = await createAltasApi(payload);\r\n\r\n          emit('close'); \r\n          dialogLoader.value = false; \r\n\r\n          // Mostrar mensaje de éxito con SweetAlert\r\n          Swal.fire({\r\n            icon: 'success',\r\n            title: 'Alta Creado',\r\n            text: response.data.message,\r\n            confirmButtonText: 'OK',\r\n          });\r\n\r\n        } catch (error) {\r\n          emit('close'); // Cerrar el modal antes de mostrar el mensaje\r\n          dialogLoader.value = false; // Ocultar el diálogo de carga\r\n\r\n          // Mostrar mensaje de error con SweetAlert\r\n          Swal.fire({\r\n            icon: 'error',\r\n            title: 'Error',\r\n            text: error.response?.data?.message || 'Hubo un error al crear el internamiento',\r\n            confirmButtonText: 'OK',\r\n          });\r\n        }\r\n      } else {\r\n        console.log('Formulario incompleto');\r\n      }\r\n    };\r\n\r\n    return {\r\n      internmentId,\r\n      dischargeDate,\r\n      dischargeTime,\r\n      authorizingDoctorId,\r\n      dialogLoader,\r\n      submitInternamiento,\r\n    };\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./CreateAltasModal.vue?vue&type=template&id=6a20707e\"\nimport script from \"./CreateAltasModal.vue?vue&type=script&lang=js\"\nexport * from \"./CreateAltasModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <div class=\"pt-0 mt-0 pb-10 ml-0 mr-0 min-w-max[100%]\">\r\n      <v-card-title class=\"d-flex justify-between\">\r\n        <h1 class=\"font-bold lg:text-2xl text-xl text-gray-400\">ALTAS MEDICAS</h1>\r\n  \r\n        <!-- Botón para abrir el modal de crear internamiento -->\r\n        <v-btn color=\"primary\" class=\"white--text\" @click=\"openCreateModal\" style=\"margin-left: auto;\">\r\n          Crear +\r\n        </v-btn>\r\n      </v-card-title>\r\n  \r\n      <v-row>\r\n        <v-col cols=\"12\">\r\n          <!-- Tabla de internamientos -->\r\n          <AltasTable />\r\n        </v-col>\r\n      </v-row>\r\n  \r\n      <!-- Modal para crear el internamiento -->\r\n      <v-dialog v-model=\"showCreateModal\" max-width=\"500px\">\r\n        <CreateAltasModal @close=\"showCreateModal = false\" />\r\n      </v-dialog>\r\n    </div>\r\n  </template>\r\n  \r\n  <script setup>\r\n  import { ref } from 'vue';\r\n  import AltasTable from '@/components/altas/AltasTable.vue';\r\n  import CreateAltasModal from '@/components/altas/CreateAltasModal.vue';\r\n  \r\n  // Estado del modal para crear internamiento\r\n  const showCreateModal = ref(false);\r\n  \r\n  // Función para abrir el modal\r\n  const openCreateModal = () => {\r\n    showCreateModal.value = true;\r\n  };\r\n  </script>\r\n  ","import script from \"./AltasView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AltasView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["baseURL","process","listAltasApi","axiosInstance","get","createAltasApi","payload","post","search","ref","loading","headers","title","align","key","altas","fetchInternments","async","value","response","data","map","alta","id_alta","fecha_alta","Date","toLocaleDateString","hora_alta","numero_habitacion","cama_asignada","fecha_ingreso","doctor_names","doctor_last_names","error","console","handleSearch","setTimeout","onMounted","__exports__","_createElementVNode","class","_createBlock","_component_v_card","default","_withCtx","_createVNode","_component_v_card_title","_hoisted_1","_","_component_v_card_text","_component_v_form","modelValue","_ctx","valid","_cache","$event","_component_v_text_field","$setup","internmentId","label","type","required","dischargeDate","dischargeTime","authorizingDoctorId","_component_v_card_actions","_component_v_btn","color","text","onClick","$emit","_createTextVNode","submitInternamiento","_component_v_dialog","dialogLoader","scrim","persistent","width","_component_v_progress_linear","indeterminate","setup","emit","Number","Swal","icon","message","confirmButtonText","log","render","showCreateModal","openCreateModal"],"sourceRoot":""}