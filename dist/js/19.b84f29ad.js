"use strict";(self["webpackChunkfrontend_ebox_platform"]=self["webpackChunkfrontend_ebox_platform"]||[]).push([[19],{152:function(e,t,l){l.r(t),l.d(t,{default:function(){return ye}});var a=l(6768),s=l(4232),o=l(2586);const n=(0,o.G)("v-alert-title");var r=l(554),i=l(7852),d=l(9669),u=l(2886),c=l(9262),p=l(2191),v=l(2542),m=l(7018),f=l(4581),b=l(5296),g=l(9788),y=l(8184),k=l(2067),x=l(3240),L=l(4663),_=l(7664),F=l(2428),w=l(144),h=l(4587),C=l(1247);const V=["success","info","warning","error"],I=(0,h.j)({border:{type:[Boolean,String],validator:e=>"boolean"===typeof e||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:f.TX,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>V.includes(e)},...(0,c.u)(),...(0,p.r)(),...(0,v.X)(),...(0,m.s)(),...(0,g.M)(),...(0,y.S)(),...(0,x.S)(),...(0,L.X)(),...(0,_.yx)(),...(0,F.gI)({variant:"flat"})},"VAlert"),S=(0,C.RW)()({name:"VAlert",props:I(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:l,slots:s}=t;const o=(0,k.q)(e,"modelValue"),c=(0,a.EW)((()=>{if(!1!==e.icon)return e.type?e.icon??`$${e.type}`:e.icon})),f=(0,a.EW)((()=>({color:e.color??e.type,variant:e.variant}))),{themeClasses:L}=(0,_.NX)(e),{colorClasses:h,colorStyles:C,variantClasses:V}=(0,F.rn)(f),{densityClasses:I}=(0,p.Q)(e),{dimensionStyles:S}=(0,v.S)(e),{elevationClasses:j}=(0,m.j)(e),{locationStyles:A}=(0,g.z)(e),{positionClasses:E}=(0,y.J)(e),{roundedClasses:B}=(0,x.v)(e),{textColorClasses:W,textColorStyles:R}=(0,u.aH)((0,w.lW)(e,"borderColor")),{t:X}=(0,b.Ym)(),K=(0,a.EW)((()=>({"aria-label":X(e.closeLabel),onClick(e){o.value=!1,l("click:close",e)}})));return()=>{const t=!(!s.prepend&&!c.value),l=!(!s.title&&!e.title),u=!(!s.close&&!e.closable);return o.value&&(0,a.bF)(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${!0===e.border?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},L.value,h.value,I.value,j.value,E.value,B.value,V.value,e.class],style:[C.value,S.value,A.value,e.style],role:"alert"},{default:()=>[(0,F.wN)(!1,"v-alert"),e.border&&(0,a.bF)("div",{key:"border",class:["v-alert__border",W.value],style:R.value},null),t&&(0,a.bF)("div",{key:"prepend",class:"v-alert__prepend"},[s.prepend?(0,a.bF)(i.K,{key:"prepend-defaults",disabled:!c.value,defaults:{VIcon:{density:e.density,icon:c.value,size:e.prominent?44:28}}},s.prepend):(0,a.bF)(d.w,{key:"prepend-icon",density:e.density,icon:c.value,size:e.prominent?44:28},null)]),(0,a.bF)("div",{class:"v-alert__content"},[l&&(0,a.bF)(n,{key:"title"},{default:()=>[s.title?.()??e.title]}),s.text?.()??e.text,s.default?.()]),s.append&&(0,a.bF)("div",{key:"append",class:"v-alert__append"},[s.append()]),u&&(0,a.bF)("div",{key:"close",class:"v-alert__close"},[s.close?(0,a.bF)(i.K,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>[s.close?.({props:K.value})]}):(0,a.bF)(r.D,(0,a.v6)({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},K.value),null)])]})}}}),j=e=>((0,a.Qi)("data-v-78d592d8"),e=e(),(0,a.jt)(),e),A={class:"containerlogin"},E={class:"flex justify-center items-center w-200 h-screen overflow-y-hidden bg-login"},B={class:"w-full h-full"},W=j((()=>(0,a.Lk)("div",{class:"w-200 flex justify-end"},[(0,a.Lk)("h1",{class:"text-gray-600 pt-10 font-bold text-5xl mr-15"})],-1))),R={class:"flex justify-start w-full pt-[2rem]"},X={class:"min-w-[30rem] rounded-xl ml-20 pt-1"},K={key:0,class:"flex justify-center"},$={class:"formLogin"};function q(e,t,l,o,n,r){const i=(0,a.g2)("FormAuthVue");return(0,a.uX)(),(0,a.CE)("div",A,[(0,a.Lk)("div",E,[(0,a.Lk)("div",B,[W,(0,a.Lk)("div",R,[(0,a.Lk)("div",X,[o.statusError?((0,a.uX)(),(0,a.CE)("div",K,[(0,a.bF)(S,{color:"#FF5250",theme:"dark",icon:"mdi-alert-circle",density:"compact",closable:"",class:"max-w-[25rem]"},{default:(0,a.k6)((()=>[(0,a.eW)((0,s.v_)(o.messageError),1)])),_:1})])):(0,a.Q3)("",!0),(0,a.Lk)("div",$,[(0,a.bF)(i,{onValidateLogin:o.onValidateLogin},null,8,["onValidateLogin"])])])])])])])}l(4114);var z=l(973),P=l(5130),U=l(2729),Q=l(1606),D=l(697),N=l(1560),J=(l(5792),l(4600));const O=(0,h.j)({fluid:{type:Boolean,default:!1},...(0,c.u)(),...(0,L.X)()},"VContainer"),T=(0,C.RW)()({name:"VContainer",props:O(),setup(e,t){let{slots:l}=t;const{rtlClasses:s}=(0,b.IA)();return(0,J.C)((()=>(0,a.bF)(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},s.value,e.class],style:e.style},l))),{}}});var G=l(6756),H=l(5526),M=l(4750);const Y=e=>((0,a.Qi)("data-v-7fde8b2f"),e=e(),(0,a.jt)(),e),Z={class:"fill-height"},ee=["src"],te=Y((()=>(0,a.Lk)("div",null,[(0,a.Lk)("div",{class:"w-full flex justify-center"}),(0,a.Lk)("h1",{class:"text-2xl pb-2 color-blue-600 text-center"},"Bienvenido de nuevo!!"),(0,a.Lk)("p",{class:"text-xs pb-2 text-gray-500 text-center mt-2 pr-10 pl-10"}," Ingresa las credenciales para ingresar ")],-1))),le=Y((()=>(0,a.Lk)("div",{class:"text-subtitle-1 text-medium-emphasis"},"Usuario",-1))),ae=Y((()=>(0,a.Lk)("div",{class:"text-subtitle-1 text-medium-emphasis d-flex align-center justify-space-between"}," Contrase침a ",-1))),se=["src"];function oe(e,t,l,s,o,n){return(0,a.uX)(),(0,a.CE)("div",Z,[(0,a.bF)(T,null,{default:(0,a.k6)((()=>[(0,a.bF)(G.L,{align:"center",justify:"center"},{default:(0,a.k6)((()=>[(0,a.bF)(H.B,{cols:"12",md:"6",class:"d-flex justify-center pb-15 mb-15 pr-15"},{default:(0,a.k6)((()=>[(0,a.bF)(U.J,{class:"rounded-xl"},{default:(0,a.k6)((()=>[(0,a.bF)(Q.r,{class:"text-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{src:o.LogoImage,alt:"Logo",class:"logo-image"},null,8,ee)])),_:1}),te,(0,a.bF)(D.O,null,{default:(0,a.k6)((()=>[(0,a.bF)(N.n,{onSubmit:(0,P.D$)(s.validateLogin,["prevent"])},{default:(0,a.k6)((()=>[le,(0,a.bF)(M.W,{modelValue:s.username,"onUpdate:modelValue":t[0]||(t[0]=e=>s.username=e),density:"compact",placeholder:"Usuario","prepend-inner-icon":"mdi-account-outline",variant:"outlined"},null,8,["modelValue"]),ae,(0,a.bF)(M.W,{modelValue:s.password,"onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e),"append-inner-icon":s.showPassword?"mdi-eye-off":"mdi-eye",type:s.showPassword?"text":"password",density:"compact",placeholder:"Contrase침a","prepend-inner-icon":"mdi-lock-outline",variant:"outlined","onClick:appendInner":s.togglePasswordVisibility},null,8,["modelValue","append-inner-icon","type","onClick:appendInner"]),(0,a.bF)(r.D,{type:"submit",color:"primary",class:"mt-4 rounded-xl",block:""},{default:(0,a.k6)((()=>[(0,a.eW)("Ingresar")])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1}),(0,a.bF)(H.B,{cols:"12",md:"6",class:"d-none d-md-flex align-center justify-center pl-16"},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{src:o.LoginImage,alt:"Login Image",class:"login-image"},null,8,se)])),_:1})])),_:1})])),_:1})])}var ne=l.p+"img/login.9030061c.png",re=l.p+"img/logo_sysnet.8110fe17.png",ie={data(){return{LoginImage:ne,LogoImage:re}},emits:["validate-login"],setup(e,{emit:t}){const l=(0,w.KR)(""),a=(0,w.KR)(""),s=(0,w.KR)(!1),o=()=>{const e={nombre_usuario:l.value,contrasena:a.value};t("validate-login",e)},n=()=>{s.value=!s.value};return{username:l,password:a,validateLogin:o,togglePasswordVisibility:n,showPassword:s}}},de=l(1241);const ue=(0,de.A)(ie,[["render",oe],["__scopeId","data-v-7fde8b2f"]]);var ce=ue,pe=l(1189);const ve="http://localhost:3000/api";function me(e){return pe.A.post(`${ve}/users/login`,e)}var fe=l(5129),be={components:{FormAuthVue:ce},data:()=>({visible:!1}),setup(){const e=(0,w.KR)(""),t=(0,w.KR)(!1),l=(0,z.rd)(),s=(0,z.lq)(),o=async a=>{try{const e=await me(a),t=e.data.data.user,s=e.data.data;fe.A.commit("setUsername",t.nombre_usuario),fe.A.commit("setToken",s.token),fe.A.commit("setRole",t.role),fe.A.commit("setIsAuthenticated",!0),l.push("/")}catch(s){t.value=!0,s.response?401===s.response.status?e.value="Las credenciales de usuario no son v치lidas":500===s.response.status?e.value="Error 500: Error interno del servidor":e.value=s.response.data.message:s.request?e.value="No se recibi칩 respuesta del servidor":(e.value="Error al configurar la solicitud:",s.message)}};return(0,a.sV)((()=>{const e=s.query.username,t=s.query.password;e&&t&&o({username:e,password:t})})),{onValidateLogin:o,messageError:e,statusError:t}}};const ge=(0,de.A)(be,[["render",q],["__scopeId","data-v-78d592d8"]]);var ye=ge}}]);
//# sourceMappingURL=19.b84f29ad.js.map